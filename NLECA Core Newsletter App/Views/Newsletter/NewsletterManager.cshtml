@using NLECA_Core_Newsletter_App.Models.Newsletter

@model List<NewsletterModel>

@{
    ViewData["Title"] = "EditNewsletter";
    bool canEdit = User.IsInRole("SuperAdmin") || User.IsInRole("Admin");
    string editorEnabledClass = canEdit ? "" : "disabled";
}


@section Scripts{
    <script type="text/javascript" src="~/js/Newsletter/NewsletterManager.js"></script>
}

<h1>Newsletter Manager</h1>
<hr />

@foreach (NewsletterModel newsletter in Model)
{
<div class="individualNewletter" data-newsletterid="@newsletter.NewsletterId">
    <h2>@DateTime.Parse(newsletter.DisplayDate).ToString("MMMM yyyy") Newsletter</h2>
    <span>@newsletter.Memo - Created:  @newsletter.CreatedDate.ToString("MMMM dd, yyyy")</span>

    @if (newsletter.IsCurrent)
    {
        <button id="UnpublishNewsletterButton">Unpublish</button>
    }
    else
    {
        <button id="EditNewsletterButton">Edit</button>
        <button id="DeleteNewsletterButton">Delete</button>
        if (newsletter.HasBeenPublished)
        {
            <button id="PublishNewsletterButton">Re-Publish</button>
        }
        else
        {
            <button id="PublishNewsletterButton">Publish</button>
        }
    }
    <hr />
</div>
}

@*Add Newsletter*@
<button id="AddNewsletterButton">Add New Newsletter</button>


